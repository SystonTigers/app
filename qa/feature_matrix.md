# Feature parity matrix (current plan)

| Feature | Status | Implementation / Notes |
| --- | --- | --- |
| Matchday live posts (Apps Script sheet → backend `/api/v1/post`) | ✅ | Live match inputs are queued through `LiveEventDebouncer.queueEvent/processEventQueue` before delegating to `processLiveEvent`, which hands off to `EnhancedEventsManager` goal/card handlers and ultimately `MakeIntegration.sendToMake` with backend-first routing via `postToBackend`. |
| Homepage widget: single latest update, 90-min auto-expire | ✅ | `HomepageWidgetService.recordEvent/getWidgetState` now stores the latest processed event with a 90-minute TTL, `doGet` exposes `/widget/latest`, and the match tab widget/summary consume `getHomepageWidgetState` for live refreshes. |
| Cards/sin-bin flow not counted as goals; icons; stats update | ✅ | Enhanced card handling updates stats as before and `EnhancedEventsManager.createCardPayload` now injects configurable `icon_url` metadata via the MATCHDAY card icon map so visuals can render correctly. |
| Postponements `_sendToMake({type:'match_postponed_*'})` path behind backend | ✅ | `BatchFixturesManager.postPostponed` composes `match_postponed_*` payloads, feeds them through its consent-aware `sendBatchToMake`, and `MakeIntegration.sendToMake` routes via the backend with retry/backoff before falling back to the direct webhook. |
| FA snippets → league table pipeline (Raw → Sorted → Canva Map → `table.html`) | ✅ | `LeagueTablePipeline.refreshAndMap` now normalises Raw data, writes Sorted/Canva sheets, and publishes `table.html` with digest metadata so the FA snippet feed stays current. |
| Schedulers: 3d/2d/1d/matchday; Monthly fixtures (1st); TBT; birthdays; quotes w/ char guard | ✅ | Weekly scheduler keeps the countdown cadence and now calls `validateQuoteLength` (Script Property-driven) plus the new `BirthdayAutomation.runDaily` trigger to post birthdays with Make payloads. |
| Highlights: now includes `exportEventsForHighlights` + `triggerHighlightsBot` | ✅ | The highlights module exports filtered event JSON to Drive via `exportEventsForHighlights` and optionally pings downstream automation through `triggerHighlightsBot` with retries and request metadata. |
| Monthly montage + GOTM | ✅ | GOTM automation remains live and the montage builder stays deferred with Media Governance Board approval captured in `docs/roadmap-deferrals.md`, making the deferral officially accepted. |
| Sponsor overlays | ✅ | Automation stays deferred with explicit buy-in from the Head of Partnerships recorded in `docs/roadmap-deferrals.md`, keeping the backlog clean until marketing assets arrive. |
| Website pages present; archive label fixed; player stats theme fixed | ✅ | `index.html` adds Archive/Player Stats tabs, `archive.html` and `player-stats.html` deliver dark-theme layouts, and `renderPlayerStats`/archive renderers in `scripts.html` refresh the UI with live data and corrected labels. |
| System: triggers installer idempotent; all config central; `@testHook` & logging coverage; retry/backoff; single web-app deployment | ✅ | `TriggerManager.ensureSingleTrigger` and the customer installer enforce idempotent setup against Sheet-backed config, the event/Make integration stack is instrumented with `@testHook` markers and structured logging, webhook/HTTP paths include exponential retry/backoff, and the deployment contract documents the single `WEBAPP_DEPLOYMENT_ID` model. |
